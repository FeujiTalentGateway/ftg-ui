<section *ngIf="examObject$ | async as exam ;else template">
  <ng-container *ngIf="handleExamObject(exam)"></ng-container>
<div class="exam-name">
  <h2>{{ exam.name }}</h2>
</div>
<div class="user-name" *ngIf="detailedUserResultObject$ | async as detailedUserResult ;else template">
  <ng-container *ngIf="handleDetailedUserResultObject(detailedUserResult)"></ng-container>
    <div class="user-data">
        Respondent
    </div>
    <div class="user-info">
        <i class="fa-regular fa-id-badge user-icon"></i>&nbsp;&nbsp;<span>{{ detailedUserResult.fullName }}</span>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
      <div class="card result-card">
        <div class="card-body">
          <h5 class="card-title">RESULT</h5>
        </div>
        <div class="test-ended">
        <div class="test">
            Test Ended
        </div>
        <div class="col">
          <svg width="200" height="200">
            <circle
              cx="100"
              cy="100"
              r="90"
              fill="none"
              stroke="rgb(11, 194, 121)"
              [attr.stroke-width]="strokeWidth"
              [attr.stroke-dasharray]="circumference"
              [attr.stroke-dashoffset]="0"
            ></circle>
            <text x="50%" y="50%" text-anchor="middle" alignment-baseline="central" font-size="24" fill="black">100%</text>
        </svg>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6" *ngIf="detailedUserResultObject$ | async as detailedUserResult ;else template">
      <ng-container *ngIf="handleDetailedUserResultObject(detailedUserResult)"></ng-container>
      <div class="card result-card">
        <div class="card-body">
          <h5 class="card-title">TIMER</h5>
          <div class="timer-content">
            
        </div>
          <p class="card-text"><i class="fa-regular fa-clock"></i>&nbsp; Total time</p>
          <div>
            {{ detailedUserResult.examDuration }}&nbsp;/&nbsp;{{ exam.duration }}
          </div>
  
          <div class="progress progress1">
            <div class="progress-bar" role="progressbar" [style.width.%]="calculateProgress()" [attr.aria-valuenow]="calculateProgress()" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <div class="start-end-date">
            <span class="time-heading">Start time :</span><span class="time">{{ detailedUserResult.examStartedAt | date: 'hh:mm a'}}</span>
            <span class="time-heading">End time :</span><span class="time">{{ detailedUserResult.examCompletedAt | date: 'hh:mm a' }}</span>
            <span class="time-heading">Date :</span><span class="time">{{ detailedUserResult.examCompletedAt | date: 'dd MMM yyyy' }}</span>
          </div>
          <div class="subject1" *ngFor="let result of detailedUserResult.subjectWiseResult">
            <span class="subject-name">{{ result.subjectName }}</span>
            <span style="padding-left: 0px;">{{ result.subjectExamCompletedIn }}</span>/&nbsp;
            <span>{{ result.subjectExamDuration }}</span>
            <span class="total-time">Total time</span>&nbsp;: 
            <span class="time-in-min">{{ result.subjectExamDuration | timeFormat}}</span>
          </div>
          
        </div>
      </div>
    </div>
  </div>
<div class="user-name">
    <div class="user-data">
        Questions
    </div>
    <div class="user-info">
        <span>Coming Soon....</span>
    </div>
</div>
</section>
<ng-template #template></ng-template>